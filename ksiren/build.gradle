apply plugin: 'kotlin'
apply plugin: 'maven'
apply plugin: 'jacoco'
apply plugin: "com.github.kt3k.coveralls"


version = "0.1.5"

dependencies {
    compile 'org.jetbrains.kotlin:kotlin-stdlib:1.1.3-2'

	testCompile 'com.brightspace:ksiren.moshi-adapter:0.1'
	testCompile 'com.brightspace:ksiren.okhttp3-request-builder:0.1'
    testCompile 'junit:junit:4.12'
    testCompile "org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version"
    testCompile "org.jetbrains.kotlin:kotlin-test:$kotlin_version"
    testCompile 'org.mockito:mockito-core:2.7.22'
}

jacocoTestReport {
	reports {
		xml.enabled = true // coveralls plugin depends on xml format report
		html.enabled = true
	}
}

coveralls {
	System.setProperty("COVERALLS_REPO_TOKEN", "")
	jacocoReportPath = "${buildDir}/reports/jacoco/test/jacocoTestReport.xml"
}
sourceCompatibility = "1.7"
targetCompatibility = "1.7"
